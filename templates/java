let searchInput = document.getElementById("input");

const sortedElements = [
  ...document.getElementById("wrapper").getElementsByTagName("li")
].sort(function (a, b) {
  var textA = a.innerText;
  var textB = b.innerText;

  if (textA < textB) return -1;
  if (textA > textB) return 1;

  return 0;
});

// execute function on key up
searchInput.addEventListener("keyup", (e) => {
  removeElements();
  for (let i of sortedElements) {
    if (
      i.innerText.toLowerCase().startsWith(searchInput.value.toLowerCase()) &&
      searchInput.value != ""
    ) {
      // create list element
      let listItem = document.createElement("li");
      // one common class name
      listItem.classList.add("list-items");
      listItem.style.cursor = "pointer";

      let link = document.createElement("a");
      link.setAttribute("href", i.querySelector("a").getAttribute("href"));

      listItem.appendChild(link);

      // display matched part in bold
      let word =
        "<b>" + i.innerText.substring(0, searchInput.value.length) + "</b>";
      word += i.innerText.substring(searchInput.value.length);
      // display the value in array
      link.innerHTML = word;
      document.querySelector(".search-list").appendChild(listItem);
    }
  }
});

function displayNames(value) {
  searchInput.value = value;
  removeElements();
}

function removeElements() {
  // clear all the items
  let items = document.querySelectorAll(".list-items");
  items.forEach((item) => {
    item.remove();
  });
}